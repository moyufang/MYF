Prompt
```
"计算机网络(自顶向下)"导学
HTTP协议笔记
```

### IP 地址分类



# 应用层
### HTTP
...

### SMTP

子协议 POP3 IMAP

### DNS


### Socket

UDP 版本

```python
"""server.py"""
import socket

server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  # 创建UDP socket
port = 12345  # 设置端口号
server_socket.bind(('', port))  # 绑定地址和端口
while True:
  data, addr = server_socket.recvfrom(1024)  # 接收数据和客户端地址
  if data.decode('utf-8').strip().lower() == 'exit':  # 检查退出指令
    break
  server_socket.sendto(data, addr)  # 将数据回传给客户端
server_socket.close()  # 关闭socket

"""client.py"""
import socket

client_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  # 创建UDP socket
host = socket.gethostname()  # 获取服务器主机名
port = 12345  # 设置端口号
while True:
  message = input()  # 获取用户输入
  client_socket.sendto(message.encode('utf-8'), (host, port))  # 发送数据到服务器
  if message.strip().lower() == 'exit':  # 检查退出指令
    break
  data, addr = client_socket.recvfrom(1024)  # 接收服务器响应
  
client_socket.close()  # 关闭socket
```

TCP 版本

```python

"""server.py"""
import socket

server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # 创建TCP socket
host = socket.gethostname()  # 获取主机名
port = 12345  # 设置端口号
server_socket.bind((host, port))  # 绑定地址和端口
server_socket.listen(5)  # 开始监听，最大连接数为5

while True:
  client_socket, addr = server_socket.accept()  # 接受客户端连接
  
  while True:
    data = client_socket.recv(1024).decode('utf-8')  # 接收客户端数据
    if not data:  # 如果数据为空，断开连接
      break
    if data.strip().lower() == 'exit':  # 如果收到退出指令
      break
    client_socket.send(data.encode('utf-8'))  # 回传数据给客户端
  
  client_socket.close()  # 关闭客户端连接

server_socket.close()  # 关闭服务器socket

"""client.py"""
import socket

client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # 创建TCP socket
host = socket.gethostname()  # 获取服务器主机名
port = 12345  # 设置端口号
client_socket.connect((host, port))  # 连接到服务器

while True:
  message = input()  # 获取用户输入
  client_socket.send(message.encode('utf-8'))  # 发送数据到服务器
  if message.strip().lower() == 'exit':  # 如果输入退出指令
    break
  response = client_socket.recv(1024).decode('utf-8')  # 接收服务器响应

client_socket.close()  # 关闭连接

```


# 运输层

### UDP

首部 4 个字段，各 2 字节，检验和是数据包中所有 16 比特的数之和的反码

| 源端口号  | 目的端口号 | 长度    | 检验和   |
| ----- | ----- | ----- | ----- |
| 2byte | 2byte | 2byte | 2byte |




















